#include "stdafx.h"
#include "ctype.h"
#include "stdio.h"
#include "string.h"
#include "stdlib.h"

void main () {
	char p[19][16][4], g[3];
	char t[1000], broj[100];
	int i, br = 1, a, b;

	t[0] = '?';
	
	for (i = 0; i < 100; i++)
		broj[i] = 'B';

	for (i = 1; i < 1000; i++)
		t[i] = 'B';

	printf ("Unesite prvi broj u bazi 4: ");
	scanf ("%s", &broj[0]);

	i = 0;
	while (isdigit(broj[i])) {
		t[br++] = broj[i];
		i++;
	}

	t[br++] = ':';

	for (i = 0; i < 100; i++)
		broj[i] = 'B';
	
	printf ("Unesite drugi broj u bazi 8: ");
	scanf ("%s", &broj[0]);

	i = 0;
	while (isdigit(broj[i])) {
		t[br++] = broj[i];
		i++;
	}

	t[br++] = '!';

	printf ("\nZapis na traci: ");

	i = -1;
	do {
		printf("%c ", t[++i]);
	} while (t[i] != 'B');

//tablica

	p[0][0][0] = '0';
	p[0][0][1] = 'N';
	p[0][0][2] = 'R';
	p[0][1][0] = '1';
	p[0][1][1] = 'N';
	p[0][1][2] = 'R';
	p[0][2][0] = '1';
	p[0][2][1] = 'N';
	p[0][2][2] = 'R';
	p[0][3][0] = '3';
	p[0][3][1] = 'N';
	p[0][3][2] = 'R';
	p[0][8][0] = '0';
	p[0][8][1] = '?';
	p[0][8][2] = 'R';
	p[0][9][0] = '4';
	p[0][9][1] = 'N';
	p[0][9][2] = 'R';
	
	p[1][0][0] = '1';
	p[1][0][1] = '0';
	p[1][0][2] = 'R';
	p[1][1][0] = '1';
	p[1][1][1] = '1';
	p[1][1][2] = 'R';
	p[1][2][0] = '1';
	p[1][2][1] = '2';
	p[1][2][2] = 'R';
	p[1][3][0] = '1';
	p[1][3][1] = '3';
	p[1][3][2] = 'R';
	p[1][4][0] = '1';
	p[1][4][1] = '4';
	p[1][4][2] = 'R';
	p[1][5][0] = '1';
	p[1][5][1] = '5';
	p[1][5][2] = 'R';
	p[1][6][0] = '1';
	p[1][6][1] = '6';
	p[1][6][2] = 'R';
	p[1][7][0] = '1';
	p[1][7][1] = '7';
	p[1][7][2] = 'R';
	p[1][9][0] = '1';
	p[1][9][1] = ':';
	p[1][9][2] = 'R';
	p[1][10][0] = '1';
	p[1][10][1] = 'Z';
	p[1][10][2] = 'R';
	p[1][11][0] = '2';
	p[1][11][1] = 'Z';
	p[1][11][2] = 'L';
	p[1][13][0] = '1';
	p[1][13][1] = '!';
	p[1][13][2] = 'R';

	p[2][0][0] = '2';
	p[2][0][1] = '0';
	p[2][0][2] = 'L';
	p[2][1][0] = '2';
	p[2][1][1] = '1';
	p[2][1][2] = 'L';
	p[2][2][0] = '2';
	p[2][2][1] = '2';
	p[2][2][2] = 'L';
	p[2][3][0] = '2';
	p[2][3][1] = '3';
	p[2][3][2] = 'L';
	p[2][4][0] = '2';
	p[2][4][1] = '4';
	p[2][4][2] = 'L';
	p[2][5][0] = '2';
	p[2][5][1] = '5';
	p[2][5][2] = 'L';
	p[2][6][0] = '2';
	p[2][6][1] = '6';
	p[2][6][2] = 'L';
	p[2][7][0] = '2';
	p[2][7][1] = '7';
	p[2][7][2] = 'L';
	p[2][9][0] = '2';
	p[2][9][1] = ':';
	p[2][9][2] = 'L';
	p[2][10][0] = '2';
	p[2][10][1] = 'Z';
	p[2][10][2] = 'L';
	p[2][12][0] = '0';
	p[2][12][1] = 'N';
	p[2][12][2] = 'R';
	p[2][13][0] = '2';
	p[2][13][1] = '!';
	p[2][13][2] = 'L';


	p[3][0][0] = '3';
	p[3][0][1] = '0';
	p[3][0][2] = 'R';
	p[3][1][0] = '3';
	p[3][1][1] = '1';
	p[3][1][2] = 'R';
	p[3][2][0] = '3';
	p[3][2][1] = '2';
	p[3][2][2] = 'R';
	p[3][3][0] = '3';
	p[3][3][1] = '3';
	p[3][3][2] = 'R';
	p[3][4][0] = '3';
	p[3][4][1] = '4';
	p[3][4][2] = 'R';
	p[3][5][0] = '3';
	p[3][5][1] = '5';
	p[3][5][2] = 'R';
	p[3][6][0] = '3';
	p[3][6][1] = '6';
	p[3][6][2] = 'R';
	p[3][7][0] = '3';
	p[3][7][1] = '7';
	p[3][7][2] = 'R';
	p[3][9][0] = '3';
	p[3][9][1] = ':';
	p[3][9][2] = 'R';
	p[3][10][0] = '3';
	p[3][10][1] = 'Z';
	p[3][10][2] = 'R';
	p[3][11][0] = '1';
	p[3][11][1] = 'Z';
	p[3][11][2] = 'R';
	p[3][13][0] = '3';
	p[3][13][1] = '!';
	p[3][13][2] = 'R';

	p[4][0][0] = '4';
	p[4][0][1] = '0';
	p[4][0][2] = 'R';
	p[4][1][0] = '4';
	p[4][1][1] = '1';
	p[4][1][2] = 'R';
	p[4][2][0] = '4';
	p[4][2][1] = '2';
	p[4][2][2] = 'R';
	p[4][3][0] = '4';
	p[4][3][1] = '3';
	p[4][3][2] = 'R';
	p[4][4][0] = '4';
	p[4][4][1] = '4';
	p[4][4][2] = 'R';
	p[4][5][0] = '4';
	p[4][5][1] = '5';
	p[4][5][2] = 'R';
	p[4][6][0] = '4';
	p[4][6][1] = '6';
	p[4][6][2] = 'R';
	p[4][7][0] = '4';
	p[4][7][1] = '7';
	p[4][7][2] = 'R';
	p[4][10][0] = '4';
	p[4][10][1] = 'Z';
	p[4][10][2] = 'R';
	p[4][11][0] = 'b';
	p[4][11][1] = '-';
	p[4][11][2] = 'L';
	p[4][13][0] = '4';
	p[4][13][1] = '!';
	p[4][13][2] = 'R';

	p[5][0][0] = '6';
	p[5][0][1] = 'N';
	p[5][0][2] = 'R';
	p[5][1][0] = '6';
	p[5][1][1] = 'N';
	p[5][1][2] = 'R';
	p[5][2][0] = '7';
	p[5][2][1] = 'N';
	p[5][2][2] = 'R';
	p[5][3][0] = '6';
	p[5][3][1] = 'N';
	p[5][3][2] = 'R';
	p[5][4][0] = '9';
	p[5][4][1] = 'N';
	p[5][4][2] = 'R';
	p[5][5][0] = '7';
	p[5][5][1] = 'N';
	p[5][5][2] = 'R';
	p[5][6][0] = '7';
	p[5][6][1] = 'N';
	p[5][6][2] = 'R';
	p[5][7][0] = '6';
	p[5][7][1] = 'N';
	p[5][7][2] = 'R';
	p[5][13][0] = 'c';
	p[5][13][1] = '!';
	p[5][13][2] = 'R';

	p[6][0][0] = 'a';
	p[6][0][1] = 'N';
	p[6][0][2] = 'R';
	p[6][1][0] = '9';
	p[6][1][1] = 'N';
	p[6][1][2] = 'R';
	p[6][2][0] = '9';
	p[6][2][1] = 'N';
	p[6][2][2] = 'R';
	p[6][3][0] = '7';
	p[6][3][1] = 'N';
	p[6][3][2] = 'R';
	p[6][4][0] = '9';
	p[6][4][1] = 'N';
	p[6][4][2] = 'R';
	p[6][5][0] = '7';
	p[6][5][1] = 'N';
	p[6][5][2] = 'R';
	p[6][6][0] = '7';
	p[6][6][1] = 'N';
	p[6][6][2] = 'R';
	p[6][7][0] = '6';
	p[6][7][1] = 'N';
	p[6][7][2] = 'R';
	p[6][13][0] = 'c';
	p[6][13][1] = '!';
	p[6][13][2] = 'R';

	p[7][0][0] = '7';
	p[7][0][1] = 'O';
	p[7][0][2] = 'R';
	p[7][1][0] = '7';
	p[7][1][1] = '1';
	p[7][1][2] = 'R';
	p[7][2][0] = '7';
	p[7][2][1] = '2';
	p[7][2][2] = 'R';
	p[7][3][0] = '7';
	p[7][3][1] = '3';
	p[7][3][2] = 'R';
	p[7][4][0] = '7';
	p[7][4][1] = '4';
	p[7][4][2] = 'R';
	p[7][5][0] = '7';
	p[7][5][1] = '5';
	p[7][5][2] = 'R';
	p[7][6][0] = '7';
	p[7][6][1] = '6';
	p[7][6][2] = 'R';
	p[7][7][0] = '7';
	p[7][7][1] = '7';
	p[7][7][2] = 'R';
	p[7][10][0] = '7';
	p[7][10][1] = 'Z';
	p[7][10][2] = 'R';
	p[7][11][0] = '8';
	p[7][11][1] = 'Z';
	p[7][11][2] = 'L';
	p[7][13][0] = '7';
	p[7][13][1] = '!';
	p[7][13][2] = 'R';
	p[7][14][0] = '7';
	p[7][14][1] = '-';
	p[7][14][2] = 'R';

	p[8][0][0] = '8';
	p[8][0][1] = '0';
	p[8][0][2] = 'L';
	p[8][1][0] = '8';
	p[8][1][1] = '1';
	p[8][1][2] = 'L';
	p[8][2][0] = '8';
	p[8][2][1] = '2';
	p[8][2][2] = 'L';
	p[8][3][0] = '8';
	p[8][3][1] = '3';
	p[8][3][2] = 'L';
	p[8][4][0] = '8';
	p[8][4][1] = '4';
	p[8][4][2] = 'L';
	p[8][5][0] = '8';
	p[8][5][1] = '5';
	p[8][5][2] = 'L';
	p[8][6][0] = '8';
	p[8][6][1] = '6';
	p[8][6][2] = 'L';
	p[8][7][0] = '8';
	p[8][7][1] = '7';
	p[8][7][2] = 'L';
	p[8][10][0] = '8';
	p[8][10][1] = 'Z';
	p[8][10][2] = 'L';
	p[8][12][0] = '6';
	p[8][12][1] = 'N';
	p[8][12][2] = 'R';
	p[8][13][0] = '8';
	p[8][13][1] = '!';
	p[8][13][2] = 'L';
	p[8][14][0] = '8';
	p[8][14][1] = '-';
	p[8][14][2] = 'L';

	p[9][0][0] = '9';
	p[9][0][1] = '0';
	p[9][0][2] = 'R';
	p[9][1][0] = '9';
	p[9][1][1] = '1';
	p[9][1][2] = 'R';
	p[9][2][0] = '9';
	p[9][2][1] = '2';
	p[9][2][2] = 'R';
	p[9][3][0] = '9';
	p[9][3][1] = '3';
	p[9][3][2] = 'R';
	p[9][4][0] = '9';
	p[9][4][1] = '4';
	p[9][4][2] = 'R';
	p[9][5][0] = '9';
	p[9][5][1] = '5';
	p[9][5][2] = 'R';
	p[9][6][0] = '9';
	p[9][6][1] = '6';
	p[9][6][2] = 'R';
	p[9][7][0] = '9';
	p[9][7][1] = '7';
	p[9][7][2] = 'R';
	p[9][10][0] = '9';
	p[9][10][1] = 'Z';
	p[9][10][2] = 'R';
	p[9][11][0] = '7';
	p[9][11][1] = 'Z';
	p[9][11][2] = 'R';
	p[9][13][0] = '9';
	p[9][13][1] = '!';
	p[9][13][2] = 'R';
	p[9][14][0] = '9';
	p[9][14][1] = '-';
	p[9][14][2] = 'R';

	p[10][0][0] = 'a';
	p[10][0][1] = '0';
	p[10][0][2] = 'R';
	p[10][1][0] = 'a';
	p[10][1][1] = '1';
	p[10][1][2] = 'R';
	p[10][2][0] = 'a';
	p[10][2][1] = '2';
	p[10][2][2] = 'R';
	p[10][3][0] = 'a';
	p[10][3][1] = '3';
	p[10][3][2] = 'R';
	p[10][4][0] = 'a';
	p[10][4][1] = '4';
	p[10][4][2] = 'R';
	p[10][5][0] = 'a';
	p[10][5][1] = '5';
	p[10][5][2] = 'R';
	p[10][6][0] = 'a';
	p[10][6][1] = '6';
	p[10][6][2] = 'R';
	p[10][7][0] = 'a';
	p[10][7][1] = '7';
	p[10][7][2] = 'R';
	p[10][10][0] = 'a';
	p[10][10][1] = 'Z';
	p[10][10][2] = 'R';
	p[10][11][0] = '9';
	p[10][11][1] = 'Z';
	p[10][11][2] = 'R';
	p[10][13][0] = 'a';
	p[10][13][1] = '!';
	p[10][13][2] = 'R';
	p[10][14][0] = 'a';
	p[10][14][1] = '-';
	p[10][14][2] = 'R';

	p[11][0][0] = 'b';
	p[11][0][1] = '0';
	p[11][0][2] = 'L';
	p[11][1][0] = 'b';
	p[11][1][1] = '1';
	p[11][1][2] = 'L';
	p[11][2][0] = 'b';
	p[11][2][1] = '2';
	p[11][2][2] = 'L';
	p[11][3][0] = 'b';
	p[11][3][1] = '3';
	p[11][3][2] = 'L';
	p[11][4][0] = 'b';
	p[11][4][1] = '4';
	p[11][4][2] = 'L';
	p[11][5][0] = 'b';
	p[11][5][1] = '5';
	p[11][5][2] = 'L';
	p[11][6][0] = 'b';
	p[11][6][1] = '6';
	p[11][6][2] = 'L';
	p[11][7][0] = 'b';
	p[11][7][1] = '7';
	p[11][7][2] = 'L';
	p[11][10][0] = 'b';
	p[11][10][1] = 'Z';
	p[11][10][2] = 'L';
	p[11][12][0] = '5';
	p[11][12][1] = 'N';
	p[11][12][2] = 'R';
	p[11][13][0] = 'b';
	p[11][13][1] = '!';
	p[11][13][2] = 'L';

	p[12][10][0] = 'f';
	p[12][10][1] = 'N';
	p[12][10][2] = 'R';
	p[12][14][0] = 'g';
	p[12][14][1] = '-';
	p[12][14][2] = 'R';

	p[13][10][0] = 'e';
	p[13][10][1] = 'N';
	p[13][10][2] = 'L';
	p[13][11][0] = 'x';
	p[13][11][1] = 'B';
	p[13][11][2] = '0';
	p[13][12][0] = 'd';
	p[13][12][1] = 'N';
	p[13][12][2] = 'R';

	p[14][12][0] = 'e';
	p[14][12][1] = 'N';
	p[14][12][2] = 'L';
	p[14][14][0] = 'h';
	p[14][14][1] = '-';
	p[14][14][2] = 'L';

	p[15][10][0] = 'f';
	p[15][10][1] = 'Z';
	p[15][10][2] = 'R';
	p[15][14][0] = 'd';
	p[15][14][1] = '-';
	p[15][14][2] = 'R';

	p[16][10][0] = 'z';
	p[16][10][1] = 'Z';
	p[16][10][2] = '0';
	p[16][11][0] = 'y';
	p[16][11][1] = 'B';
	p[16][11][2] = '0';
	p[16][12][0] = 'g';
	p[16][12][1] = 'N';
	p[16][12][2] = 'R';

	p[17][10][0] = 'h';
	p[17][10][1] = 'Z';
	p[17][10][2] = 'L';
	p[17][12][0] = 'c';
	p[17][12][1] = 'N';
	p[17][12][2] = 'R';

	br = 0;
	g[0] = '0';
	g[1] = t[br];

	while ((g[0] != 'x') && (g[0] != 'y') && (g[0] != 'z')) {	

		switch (g[0]) {
				case '0': a = 0; break;
				case '1': a = 1; break;
				case '2': a = 2; break;
				case '3': a = 3; break;
				case '4': a = 4; break;
				case '5': a = 5; break;
				case '6': a = 6; break;
				case '7': a = 7; break;
				case '8': a = 8; break;
				case '9': a = 9; break;
				case 'a': a = 10; break;
				case 'b': a = 11; break;
				case 'c': a = 12; break;
				case 'd': a = 13; break;
				case 'e': a = 14; break;
				case 'f': a = 15; break;
				case 'g': a = 16; break;
				case 'h': a = 17; break;
		}

			switch (g[1]) {
				case '0': b = 0; break;
				case '1': b = 1; break;
				case '2': b = 2; break;
				case '3': b = 3; break;
				case '4': b = 4; break;
				case '5': b = 5; break;
				case '6': b = 6; break;
				case '7': b = 7; break;
				case '8': b = 8; break;
				case '9': b = 9; break;
				case '?': b = 8; break;
				case ':': b = 9; break;
				case 'Z': b = 10; break;
				case 'B': b = 11; break;
				case 'N': b = 12; break;
				case '!': b = 13; break;
				case '-': b = 14; break;
			}
		
		g[0] = p[a][b][0];
		g[1] = p[a][b][1];
		t[br] = g[1];

		if (p[a][b][2] == 'R')
			br++;
		else if (p[a][b][2] == 'L')
			br--;

		g[1] = t[br];
	}

	printf ("\n\nU binarnom zapisu prvog i drugog broja, prvi broj koji je zadan u bazi 4 ima ");
	switch (g[0]) {
		case 'x': printf ("VISE jedinica nego "); break;
		case 'y': printf ("JEDNAKO jedinica kao i "); break;
		case 'z': printf ("MANJE jedinica nego "); break;
	}
	printf ("drugi broj nula, koji je zadan u bazi 8.\n\n");

	system("PAUSE");
}